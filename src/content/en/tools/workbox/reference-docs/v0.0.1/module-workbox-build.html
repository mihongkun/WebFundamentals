<!DOCTYPE html>
<html devsite>

<head>
  <meta name="project_path" value="_project.yaml" />
  <meta name="book_path" value="_book.yaml" />
  <meta name="gtm_var" data-key="docType" data-value="reference">
  <title>Module: workbox-build</title>
  <link href="jsdoc.css" rel="stylesheet">
</head>

<body>
  <div id="jsdoc-body-container">
    <div id="jsdoc-content">
      <div id="jsdoc-content-container">
        <div id="jsdoc-main" role="main">
          <header class="page-header">
            <h1><small></small><span class="symbol-name">workbox-build</span></h1>
            <div class="symbol-detail-labels"><span class="label label-kind"><small>module</small></span></div>
            <p>
              <h1 id="workbox-build">workbox-build</h1>
            </p>
            <p>To get a list of url's and a corresponding revision details, call either
              <code>generateFileManifest</code> or <code>getFileManifestEntries()</code>.</p>
            <p><code>generateFileManifest()</code> will run globs over a directory of static assets and write a JavaScript file containing URL's and revision details for those files.
            </p>
            <p>If you'd rather receive the data as a JavaScript Array, use
              <code>getFileManifestEntries()</code> instead.</p>
            <p>If you only need precaching of your static assets in your service worker and nothing else, you can generate complete service worker with <code>generateSW()</code>.</p>
          </header>
          <section>
            <h2>Methods</h2>
            <section>
              <h3 id=".generateFileManifest" class="symbol-name">generateFileManifest</h3>
              <div class="symbol-detail-labels"><span class="label label-static"><small>static</small></span></div>
              <p class="type-signature"> generateFileManifest(input)&nbsp;returns&nbsp;Promise</p>
              <section>
                <table class="function param responsive">
                  <tr>
                    <th colspan="2">
                      <h4>Parameter</h4>
                    </th>
                  </tr>
                  <tbody>
                    <tr>
                      <td class="details-table-name">
                        <p>input</p>
                      </td>
                      <td>
                        <p class="details-table-types">Object</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
                <dt>Returns</dt>
                <dd>
                  <p><code>Promise</code>&nbsp;
                    <p>Resolves once the service worker has been generated with a precache list.</p>
                  </p>
                </dd>
              </dl>
              <section>
                <h4>
                  Example
                </h4>
                <div>
                  <pre class="prettyprint"><code>&lt;caption&gt;Generate a build manifest of static assets, which could
then be used with a service worker.&lt;/caption&gt;
const swBuild &#x3D; require(&#x27;workbox-build&#x27;);

swBuild.generateFileManifest({
  manifestDest: &#x27;./build/manifest.js&#x27;
  globDirectory: &#x27;./build/&#x27;,
  staticFileGlobs: [&#x27;**\/*.{html,js,css}&#x27;],
  globIgnores: [&#x27;admin.html&#x27;],
  format: &#x27;iife&#x27;, // alternatively, use &#x27;es&#x27;
})
.then(() &#x3D;&gt; {
  console.log(&#x27;Build Manifest generated.&#x27;);
});

This method will generate a file manifest that can be used in a service
worker for caching assets offline.</code></pre>
                </div>
              </section>
              <h3 id=".generateSW" class="symbol-name">generateSW</h3>
              <div class="symbol-detail-labels"><span class="label label-static"><small>static</small></span></div>
              <p class="type-signature"> generateSW(input)&nbsp;returns&nbsp;Promise</p>
              <section>
                <table class="function param responsive">
                  <tr>
                    <th colspan="2">
                      <h4>Parameter</h4>
                    </th>
                  </tr>
                  <tbody>
                    <tr>
                      <td class="details-table-name">
                        <p>input</p>
                      </td>
                      <td>
                        <p class="details-table-types">Object</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
                <dt>Returns</dt>
                <dd>
                  <p><code>Promise</code>&nbsp;
                    <p>Resolves once the service worker has been generated with a precache list.</p>
                  </p>
                </dd>
              </dl>
              <section>
                <h4>
                  Example
                </h4>
                <div>
                  <p>Generate a service worker for a project.</p>
                  <pre class="prettyprint"><code>const swBuild &#x3D; require(&#x27;workbox-build&#x27;);

swBuild.generateSW({
  globDirectory: &#x27;./build/&#x27;,
  swDest: &#x27;./build/sw.js&#x27;,
  staticFileGlobs: [&#x27;**\/*.{html,js,css}&#x27;],
  globIgnores: [&#x27;admin.html&#x27;],
  templatedUrls: {
    &#x27;/shell&#x27;: [&#x27;shell.hbs&#x27;, &#x27;main.css&#x27;, &#x27;shell.css&#x27;],
  },
})
.then(() &#x3D;&gt; {
  console.log(&#x27;Service worker generated.&#x27;);
});

This method will generate a working service worker with an inlined
file manifest.</code></pre>
                </div>
              </section>
              <h3 id=".getFileManifestEntries" class="symbol-name">getFileManifestEntries</h3>
              <div class="symbol-detail-labels"><span class="label label-static"><small>static</small></span></div>
              <p class="type-signature"> getFileManifestEntries(input)&nbsp;returns&nbsp;Array of ManifestEntry</p>
              <p>To get a list of files and revision details that can be used to ultimately precache assets in a service worker.</p>
              <section>
                <table class="function param responsive">
                  <tr>
                    <th colspan="2">
                      <h4>Parameter</h4>
                    </th>
                  </tr>
                  <tbody>
                    <tr>
                      <td class="details-table-name">
                        <p>input</p>
                      </td>
                      <td>
                        <p class="details-table-types">Object</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
                <dt>Returns</dt>
                <dd>
                  <p><code>Array of ManifestEntry</code>&nbsp;
                    <p>An array of ManifestEntries will include a url and revision details for each file found.</p>
                  </p>
                </dd>
              </dl>
              <h3 id=".injectManifest" class="symbol-name">injectManifest</h3>
              <div class="symbol-detail-labels"><span class="label label-static"><small>static</small></span></div>
              <p class="type-signature"> injectManifest(input)&nbsp;returns&nbsp;Promise</p>
              <section>
                <table class="function param responsive">
                  <tr>
                    <th colspan="2">
                      <h4>Parameter</h4>
                    </th>
                  </tr>
                  <tbody>
                    <tr>
                      <td class="details-table-name">
                        <p>input</p>
                      </td>
                      <td>
                        <p class="details-table-types">Object</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
                <dt>Returns</dt>
                <dd>
                  <p><code>Promise</code>&nbsp;
                    <p>Resolves once the service worker has been generated with a precache list.</p>
                  </p>
                </dd>
              </dl>
              <section>
                <h4>
                  Example
                </h4>
                <div>
                  <pre class="prettyprint"><code>&lt;caption&gt;Generate a build manifest of static assets, which could
then be used with a service worker.&lt;/caption&gt;
const swBuild &#x3D; require(&#x27;workbox-build&#x27;);

swBuild.injectManifest({
  globDirectory: &#x27;./build/&#x27;,
  staticFileGlobs: [&#x27;**\/*.{html,js,css}&#x27;],
  globIgnores: [&#x27;admin.html&#x27;],
  swSrc: &#x27;./src/sw.js&#x27;,
  swDest: &#x27;./build/sw.js&#x27;,
})
.then(() &#x3D;&gt; {
  console.log(&#x27;Build Manifest generated.&#x27;);
});

This method will read in an existing service worker file and replace an empty
array in a call like so: &#x60;.precache([])&#x60;, to an array of files
with up to date array revision details. This allows the service worker
to efficiently cache assets that will be available offline.</code></pre>
                </div>
              </section>
            </section>
            <h2>Abstract type</h2>
            <section>
              <h3 id=".ManifestEntry" class="symbol-name">ManifestEntry</h3>
              <div class="symbol-detail-labels"><span class="label label-static"><small>static</small></span></div>
              <p class="type-signature">Object</p>
              <section>
                <h4>Properties</h4>
                <table class="function param responsive">
                  <tr>
                    <th colspan="2">
                      <h4>Parameter</h4>
                    </th>
                  </tr>
                  <tbody>
                    <tr>
                      <td class="details-table-name">
                        <p>url</p>
                      </td>
                      <td>
                        <p class="details-table-types">String</p>
                        <p>The URL to the asset in the manifest.</p>
                      </td>
                    </tr>
                    <tr>
                      <td class="details-table-name">
                        <p>revision</p>
                      </td>
                      <td>
                        <p class="details-table-types">String</p>
                        <p>The revision details for the file. This is a hash generated by node based on the file contents.</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
              </dl>
            </section>
          </section>
        </div>
      </div>
      <nav id="jsdoc-toc-nav" role="navigation"></nav>
    </div>
  </div>
</body>

</html>